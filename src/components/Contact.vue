<template>
    <section id="contact" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-extrabold text-gray-900 sm:text-5xl">
                    Hubungi <span class="text-indigo-600">Kami</span>
                </h2>
                <div class="mt-4 max-w-3xl mx-auto text-xl text-gray-500">
                    Silakan menghubungi kami untuk informasi lebih lanjut tentang HIMATIF UNIVERSITAS UNIVERSAL.
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-12">
                <!-- Contact Information -->
                <div class="space-y-8">
                    <div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-6">Informasi Kontak</h3>
                        <div class="space-y-6">
                            <div class="flex items-start">
                                <div class="flex-shrink-0 bg-indigo-100 p-3 rounded-lg">
                                    <svg class="h-6 w-6 text-indigo-600" fill="none" stroke="currentColor"
                                        viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                                        </path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-lg font-medium text-gray-900">Alamat</h4>
                                    <p class="text-gray-600 mt-1">Universitas Universal Batam, Kelurahan Sadai,
                                        Kecamatan
                                        Bengkong, Kota Batam, Kepulauan Riau, 29432</p>
                                </div>
                            </div>

                            <div class="flex items-start">
                                <div class="flex-shrink-0 bg-indigo-100 p-3 rounded-lg">
                                    <svg class="h-6 w-6 text-indigo-600" fill="none" stroke="currentColor"
                                        viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z">
                                        </path>
                                    </svg>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-lg font-medium text-gray-900">Email</h4>
                                    <a href="mailto:uvershimatif@gmail.com"
                                        class="text-indigo-600 hover:text-indigo-800 mt-1">
                                        uvershimatif@gmail.com
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-6">Jam Operasional</h3>
                        <div class="flex items-start">
                            <div class="flex-shrink-0 bg-indigo-100 p-3 rounded-lg">
                                <svg class="h-6 w-6 text-indigo-600" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <div class="ml-4">
                                <h4 class="text-lg font-medium text-gray-900">Senin - Jumat</h4>
                                <p class="text-gray-600 mt-1">14:00 - 22:00 WIB</p>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4 class="text-lg font-medium text-gray-900 mb-4">Media Sosial</h4>
                        <div class="flex space-x-4">
                            <a href="#" target="_blank"
                                class="bg-gray-100 p-3 rounded-full text-gray-700 hover:bg-indigo-100 hover:text-indigo-600 transition duration-300">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <rect width="20" height="20" x="2" y="2" rx="5" ry="5" />
                                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" />
                                    <line x1="17.5" x2="17.51" y1="6.5" y2="6.5" />
                                </svg>
                            </a>
                            <a href="mailto:uvershimatif@gmail.com" target="_blank"
                                class="bg-gray-100 p-3 rounded-full text-gray-700 hover:bg-indigo-100 hover:text-indigo-600 transition duration-300">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor" class="size-6">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
                                </svg>

                            </a>
                        </div>
                    </div>
                </div>

                <!-- Contact Form -->
                <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-100">
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">Kirim Pesan</h3>
                    <form class="space-y-6" @submit.prevent="sendEmail">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nama Lengkap</label>
                            <input v-model="form.from_name" type="text" id="name" required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300"
                                placeholder="Masukkan nama lengkap">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input v-model="form.reply_to" type="email" id="email" required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300"
                                placeholder="Masukkan alamat email">
                        </div>
                        <div>
                            <label for="subject" class="block text-sm font-medium text-gray-700 mb-1">Subjek</label>
                            <input v-model="form.subject" type="text" id="subject"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300"
                                placeholder="Subjek pesan">
                        </div>
                        <div>
                            <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Pesan</label>
                            <textarea v-model="form.message" id="message" rows="5" required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300"
                                placeholder="Tulis pesan Anda"></textarea>
                        </div>
                        <div>
                            <button type="submit"
                                class="w-full bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition duration-300 shadow-md hover:shadow-lg flex items-center justify-center">
                                <span v-if="!isLoading">Kirim Pesan</span>
                                <svg v-if="isLoading" class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
                                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                        stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                                    </path>
                                </svg>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
</template>

<script>
import emailjs from 'emailjs-com';
import Swal from 'sweetalert2';

export default {
    data() {
        return {
            form: {
                from_name: '',
                reply_to: '',
                subject: '',
                message: '',
            },
            isLoading: false,
            socialMedia: [
                {
                    name: 'Instagram',
                    icon: 'instagram',
                    url: '#'
                },
                {
                    name: 'Facebook',
                    icon: 'facebook',
                    url: '#'
                },
                {
                    name: 'Twitter',
                    icon: 'twitter',
                    url: '#'
                }
            ]
        };
    },
    methods: {
        async sendEmail() {
            this.isLoading = true;

            const templateParams = {
                from_name: this.form.from_name,
                reply_to: this.form.reply_to,
                subject: this.form.subject || 'Pesan dari Website HIMATIF',
                message: this.form.message,
            };

            try {
                await emailjs.send(
                    'service_0xiwk76',
                    'template_zueai6l',
                    templateParams,
                    'j6M9uGosLVGC0luzh'
                );

                Swal.fire({
                    icon: 'success',
                    title: 'Pesan Terkirim!',
                    text: 'Terima kasih sudah menghubungi kami. Kami akan segera merespon pesan Anda.',
                    confirmButtonColor: '#4F46E5',
                    timer: 3000,
                    timerProgressBar: true,
                });

                // Reset form
                this.form = {
                    from_name: '',
                    reply_to: '',
                    subject: '',
                    message: '',
                };
            } catch (error) {
                console.error('Error sending email:', error);
                Swal.fire({
                    icon: 'error',
                    title: 'Gagal Mengirim Pesan',
                    text: 'Terjadi kesalahan saat mengirim pesan. Silakan coba lagi atau hubungi kami melalui email.',
                    confirmButtonColor: '#EF4444',
                });
            } finally {
                this.isLoading = false;
            }
        },
    },
};
</script>